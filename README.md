# Report-4-3



---

# گزارش پروژه: اندازه‌گیری فاصله با سنسور (HC-SR04) و آردوینو

## ۱. مقدمه  
در این پروژه، یک **سنسور (Ultrasonic Sensor)** به آردوینو متصل شده است و با ارسال موج صوتی و دریافت بازتاب آن، فاصله‌ی اجسام را محاسبه می‌کند. .



## ۳. قطعات مورد استفاده  
- برد آردوینو Uno  
- سنسور HC-SR04 
- برد برد (Breadboard)  
- سیم‌های جامپر (jumper wires)


## ۴. نحوه‌ی ساخت مدار  
- **سنسور HC-SR04**:  
  - VCC → 5V آردوینو  
  - GND → GND آردوینو  
  - TRIG → پین ۱۱ آردوینو  
  - ECHO → پین ۱۲ آردوینو  


## ۵. کد برنامه (اسکچ):

```cpp
int trig = 11;     // تعریف پین TRIG
int echo = 12;     // تعریف پین ECHO
int duration;      // متغیر برای ذخیره زمان سفر موج
int distances;     // متغیر برای ذخیره فاصله

void setup() {
  Serial.begin(9600);   // شروع ارتباط سریال برای نمایش داده
  pinMode(trig, OUTPUT); // تنظیم پین TRIG به عنوان خروجی
  pinMode(echo, INPUT);  // تنظیم پین ECHO به عنوان ورودی
}

void loop() {
  // ارسال پالس تحریک (TRIG)
  digitalWrite(trig, LOW);
  delayMicroseconds(2);        // تأخیر ۲ میکروثانیه
  digitalWrite(trig, HIGH);
  delayMicroseconds(10);       // تأخیر ۱۰ میکروثانیه
  digitalWrite(trig, LOW);

  // دریافت بازتاب (ECHO)
  duration = pulseIn(echo, HIGH);  // اندازه‌گیری طول پالس بازتاب

  // محاسبه فاصله (به سانتی‌متر)
  distances = (duration / 2) * 0.0343;

  // نمایش فاصله در Serial Monitor
  Serial.println(distances);

  delay(1000);  // تأخیر ۱ ثانیه برای ثبات نمایش
}
```

### توضیح کد:  
- `digitalWrite(trig, LOW)` → شروع ارسال پالس تحریک.  
- `delayMicroseconds(2)` → تأخیر ۲ میکروثانیه برای پایداری.  
- `digitalWrite(trig, HIGH)` → ارسال پالس تحریک.  
- `delayMicroseconds(10)` → تأخیر ۱۰ میکروثانیه برای ارسال کامل پالس.  
- `digitalWrite(trig, LOW)` → پایان ارسال پالس تحریک.  
- `pulseIn(echo, HIGH)` → اندازه‌گیری طول پالس بازتاب (زمان سفر موج صوتی).  
- `distances = (duration / 2) * 0.0343` → محاسبه فاصله:
  - تقسیم بر ۲ چون موج رفت و برگشت می‌کند.
  - ضرب در ۰.۰۳۴۳ چون سرعت صوت در هوا ≈ ۳۴۳ متر بر ثانیه است (یعنی ۰.۰۳۴۳ سانتی‌متر در میکروثانیه).
- `Serial.println(distances)` → نمایش فاصله در Serial Monitor.

## ۶. نحوه‌ی کارکرد  
- پس از آپلود کد، سنسور شروع به ارسال موج صوتی می‌کند.  
- وقتی موج به یک جسم برخورد کند، بازتاب می‌شود و سنسور آن را دریافت می‌کند.  
- آردوینو زمان سفر موج را اندازه‌گیری کرده و فاصله را محاسبه می‌کند.  
- فاصله به صورت عددی (به واحد سانتی‌متر) در Serial Monitor نمایش داده می‌شود.

## ۷. نتایج  
سنسور به درستی فاصله را اندازه‌گیری و نمایش می‌دهد. ا
.

